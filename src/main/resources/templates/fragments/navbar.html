<nav th:fragment="navbar" class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
    <div class="container-fluid">
        <!-- 브랜드 -->
        <a class="navbar-brand d-flex align-items-center" href="/discover">
            <i class="bi bi-rss-fill text-success me-2 fs-4"></i>
            <span class="fw-bold">Feedly Clone</span>
        </a>

        <!-- 모바일 토글 -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMain">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- 네비게이션 메뉴 -->
        <div class="collapse navbar-collapse" id="navbarMain">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <!-- currentPath 변수 사용 (Thymeleaf 3.1+ 호환) -->
                    <a class="nav-link" th:classappend="${currentPath == 'discover'} ? 'active'" href="/discover">
                        <i class="bi bi-compass me-1"></i> Explore
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:classappend="${currentPath == 'news'} ? 'active'" href="/discover/news">
                        <i class="bi bi-newspaper me-1"></i> News
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:classappend="${currentPath == 'reddit'} ? 'active'" href="/discover/reddit">
                        <i class="bi bi-reddit me-1"></i> Reddit
                    </a>
                </li>
            </ul>

            <!-- 검색 폼 -->
            <form class="d-flex me-3" action="/discover" method="get" role="search">
                <div class="input-group">
                    <span class="input-group-text bg-secondary border-secondary">
                        <i class="bi bi-search text-light"></i>
                    </span>
                    <input type="search" name="query" class="form-control bg-secondary border-secondary text-light" 
                           placeholder="주제 검색..." style="width: 200px;"
                           th:value="${query}">
                </div>
            </form>

            <!-- 팔로잉 카운트 -->
            <div class="d-flex align-items-center">
                <span class="badge bg-success me-2" id="following-count">
                    <i class="bi bi-collection me-1"></i>
                    <span>0</span> Following
                </span>
            </div>
        </div>
    </div>
</nav>
